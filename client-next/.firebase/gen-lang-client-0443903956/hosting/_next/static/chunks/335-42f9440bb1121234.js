"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[335],{550:(e,r,t)=>{let o,a,n;t.d(r,{j2:()=>a,p9:()=>d});var s=t(2078),l=t(1328),i=t(9708),c=t(3619);if(0===(0,s.Dk)().length){if(o=(0,s.Wp)(c.CN),a=(0,l.xI)(o),n=(0,i.aU)(o),"local"===c.cA&&c.NF&&1)try{c.vx.auth&&((0,l.Wq)(a,c.vx.auth,{disableWarnings:!0}),console.log("[FIREBASE] Connected to Auth emulator at ".concat(c.vx.auth))),c.vx.firestore.host&&((0,i.vN)(n,c.vx.firestore.host,c.vx.firestore.port),console.log("[FIREBASE] Connected to Firestore emulator at ".concat(c.vx.firestore.host,":").concat(c.vx.firestore.port)))}catch(e){console.warn("[FIREBASE] Emulator connection warning:",e)}console.log("[FIREBASE] Initialized for ".concat(c.cA," environment with project: ").concat(c.CN.projectId))}else o=(0,s.Dk)()[0],a=(0,l.xI)(o),n=(0,i.aU)(o);let d=async()=>{let e=a.currentUser;if(!e)return null;try{return await e.getIdToken()}catch(e){return console.error("Error getting ID token:",e),null}}},2619:(e,r,t)=>{t.d(r,{BP:()=>d,Bh:()=>p,G6:()=>c,Ru:()=>i,bk:()=>l,rx:()=>u});var o=t(1328),a=t(550),n=t(7621),s=t(3619);t(5704);let l=async(e,r,t)=>{try{let s=(await (0,o.eJ)(a.j2,e,r)).user,l=await s.getIdToken();return l&&localStorage.setItem("jwt",l),await (0,n.Vz)({id:s.uid,email:s.email||e,name:t,onboarding_complete:!1}),{success:!0,user:s,error:null}}catch(e){return console.error("[FIREBASE_AUTH] Sign up error:",e),{success:!1,user:null,error:g(e)}}},i=async(e,r)=>{try{let t=(await (0,o.x9)(a.j2,e,r)).user;return await h(t),{success:!0,user:t,error:null}}catch(e){return console.error("[FIREBASE_AUTH] Sign in error:",e),{success:!1,user:null,error:g(e)}}},c=async e=>{try{let t=o.HF.credential(e),s=(await (0,o.eN)(a.j2,t)).user,{success:l,data:i}=await (0,n.VM)(s.uid);if(!l||!i){var r;await (0,n.Vz)({id:s.uid,email:s.email||"",name:s.displayName||(null==(r=s.email)?void 0:r.split("@")[0])||"User",onboarding_complete:!1})}return await h(s),{success:!0,user:s,error:null}}catch(e){return console.error("[FIREBASE_AUTH] Google sign in error:",e),{success:!1,user:null,error:g(e)}}},d=async()=>{try{return await (0,o.CI)(a.j2),localStorage.removeItem("jwt"),{success:!0,error:null}}catch(e){return console.error("[FIREBASE_AUTH] Sign out error:",e),{success:!1,error:g(e)}}},u=()=>a.j2.currentUser,p=e=>(0,o.hg)(a.j2,e),h=async e=>{try{let r=await e.getIdToken(),t=e.email||"",o=e.displayName||"",a=s.tj.replace(/\/$/,""),n=await fetch("/api/auth/exchange",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({email:t,name:o,firebaseToken:r})});if(n.ok||(n=await fetch("".concat(a,"/api/auth/exchange"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({email:t,name:o,firebaseToken:r})})),n.ok){let e=await n.json();(null==e?void 0:e.token)&&localStorage.setItem("jwt",e.token)}}catch(e){console.warn("[FIREBASE_AUTH] JWT exchange failed:",e)}},g=e=>{if(!e.code)return e.message||"An unexpected error occurred";switch(e.code){case"auth/email-already-in-use":return"This email is already registered. Please sign in instead.";case"auth/invalid-email":return"Invalid email address.";case"auth/operation-not-allowed":return"This operation is not allowed. Please contact support.";case"auth/weak-password":return"Password is too weak. Please use a stronger password.";case"auth/user-disabled":return"This account has been disabled. Please contact support.";case"auth/user-not-found":return"No account found with this email address.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";case"auth/network-request-failed":return"Network error. Please check your connection and try again.";default:return e.message||"Authentication failed. Please try again."}}},3619:(e,r,t)=>{t.d(r,{CN:()=>i,NF:()=>d,cA:()=>s,tj:()=>c,vx:()=>u});var o=t(5704);let a={firebase:{apiKey:"AIzaSyD8kj3xVphs3lxCdQkaYUwt8mhhN357eKw",authDomain:"gen-lang-client-0443903956.firebaseapp.com",projectId:"gen-lang-client-0443903956",storageBucket:"gen-lang-client-0443903956.firebasestorage.app",messagingSenderId:"759507959904",appId:"1:759507959904:web:8b00b7b564c3169b174305"},firebaseAdmin:{projectId:o.env.FIREBASE_PROJECT_ID_LOCAL||"gen-lang-client-0443903956",clientEmail:o.env.FIREBASE_CLIENT_EMAIL_LOCAL||"",privateKey:(o.env.FIREBASE_PRIVATE_KEY_LOCAL||"").replace(/\\n/g,"\n")},apiBaseUrl:"http://localhost:3000",aiBackendUrl:"http://localhost:5000",useEmulator:"true"===o.env.NEXT_PUBLIC_USE_FIREBASE_EMULATOR,emulatorHosts:{auth:"http://localhost:9099",firestore:{host:"localhost",port:8080}}},n={firebase:{apiKey:"your-prod-api-key",authDomain:"your-prod-project.firebaseapp.com",projectId:"your-prod-project-id",storageBucket:"your-prod-project.appspot.com",messagingSenderId:"987654321",appId:"1:987654321:web:xyz789"},firebaseAdmin:{projectId:o.env.FIREBASE_PROJECT_ID_PROD||"your-prod-project-id",clientEmail:o.env.FIREBASE_CLIENT_EMAIL_PROD||"",privateKey:(o.env.FIREBASE_PRIVATE_KEY_PROD||"").replace(/\\n/g,"\n")},apiBaseUrl:"https://beyondwords-client.vercel.app",aiBackendUrl:"https://beyondwords.onrender.com",useEmulator:!1,emulatorHosts:{auth:"",firestore:{host:"",port:0}}},s="local",l="production"===s?n:a,i=l.firebase;l.firebaseAdmin;let c=l.apiBaseUrl;l.aiBackendUrl;let d=l.useEmulator,u=l.emulatorHosts},3915:(e,r,t)=>{t.d(r,{A:()=>o});let o={src:"/_next/static/media/logo.2ee08725.png",height:1536,width:1024,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAMAAAAGL8UJAAAAJFBMVEU0R1NMVHaCa4s2Yo2RYHpPW4uocIpVQ3eucoyHZoVNXY9rR3XYQJf9AAAACnRSTlMBHBI+eYDzpzyxCu7OuAAAAAlwSFlzAAALEwAACxMBAJqcGAAAACRJREFUeJxjYEACTMzMTAwMjKxcnEwMjOzcbBwMDIwsLIzISgAHiwBRMayZqQAAAABJRU5ErkJggg==",blurWidth:5,blurHeight:8}},5504:(e,r,t)=>{t.d(r,{default:()=>l});var o=t(5155);t(2115);var a=t(63),n=t(7024),s=t(6520);function l(){let e=(0,a.useRouter)(),r=(0,a.usePathname)(),{isDarkMode:t}=(0,s.D)(),{user:l}=n.J?(0,n.J)():{user:null};return l||"/"!==r?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("style",{children:"\n@keyframes floatButton {\n  0% { transform: translateY(0); box-shadow: 0 0 16px 4px #eec1d1, 0 4px 16px rgba(60,76,115,0.15); }\n  50% { transform: translateY(-12px); box-shadow: 0 0 32px 8px #eec1d1, 0 8px 32px rgba(60,76,115,0.18); }\n  100% { transform: translateY(0); box-shadow: 0 0 16px 4px #eec1d1, 0 4px 16px rgba(60,76,115,0.15); }\n}\n\n@keyframes floatButtonDark {\n  0% { transform: translateY(0); box-shadow: 0 0 16px 4px #c4b5fd, 0 4px 16px rgba(196,181,253,0.3); }\n  50% { transform: translateY(-12px); box-shadow: 0 0 32px 8px #c4b5fd, 0 8px 32px rgba(196,181,253,0.4); }\n  100% { transform: translateY(0); box-shadow: 0 0 16px 4px #c4b5fd, 0 4px 16px rgba(196,181,253,0.3); }\n}"}),(0,o.jsx)("button",{onClick:()=>e.push("/signup"),style:{position:"fixed",bottom:24,right:24,zIndex:1e3,background:t?"linear-gradient(135deg, #c4b5fd 0%, #a78bfa 100%)":"linear-gradient(135deg, #7e5a75 0%, #8a6a7a 100%)",color:"#fff",borderRadius:999,padding:"1rem 2rem",border:"none",fontSize:18,fontWeight:600,cursor:"pointer",animation:t?"floatButtonDark 2.5s ease-in-out infinite":"floatButton 2.5s ease-in-out infinite",boxShadow:t?"0 0 16px 4px #c4b5fd, 0 4px 16px rgba(196,181,253,0.3)":"0 0 16px 4px #eec1d1, 0 4px 16px rgba(60,76,115,0.15)",outline:"none"},"aria-label":"Sign up for BeyondWords",children:"Register Now!"})]})}},6520:(e,r,t)=>{t.d(r,{D:()=>l,DarkModeProvider:()=>s});var o=t(5155),a=t(2115);let n=(0,a.createContext)(void 0);function s(e){let{children:r}=e,[t,s]=(0,a.useState)(!1),[l,i]=(0,a.useState)("light"),c=e=>{let r="dark"===e||"auto"===e&&window.matchMedia("(prefers-color-scheme: dark)").matches;s(r),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};(0,a.useEffect)(()=>{let e=localStorage.getItem("theme")||"light";i(e),c(e);let r=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>{"auto"===l&&c("auto")};return r.addEventListener("change",t),()=>r.removeEventListener("change",t)},[l]);let d=(0,a.useCallback)(e=>{i(e),localStorage.setItem("theme",e),c(e)},[]),u=(0,a.useCallback)(e=>{let r=e?"dark":"light";i(r),localStorage.setItem("theme",r),c(r)},[]),p=(0,a.useCallback)(e=>{e&&(i(e),localStorage.setItem("theme",e),c(e))},[]);return(0,o.jsx)(n.Provider,{value:{isDarkMode:t,setIsDarkMode:u,theme:l,setTheme:d,syncWithUserPreferences:p},children:r})}function l(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useDarkMode must be used within a DarkModeProvider");return e}},7024:(e,r,t)=>{t.d(r,{default:()=>j,J:()=>A});var o=t(5155),a=t(2115),n=t(4604),s=t(63),l=t(2451),i=t(6520),c=t(3915);function d(e){let{className:r=""}=e;return(0,o.jsxs)("svg",{className:r,width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,o.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,o.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,o.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]})}function u(e){let{className:r=""}=e;return(0,o.jsxs)("svg",{className:r,width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,o.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,o.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}function p(e){let{className:r=""}=e;return(0,o.jsx)("svg",{className:r,width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}function h(e){let{className:r=""}=e;return(0,o.jsxs)("svg",{className:r,width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}function g(){let[e,r]=(0,a.useState)(!1),[t,n]=(0,a.useState)(!0),[s,g]=(0,a.useState)(!1),[m,x]=(0,a.useState)(null),{user:f,logout:b}=A?A():{user:null,logout:()=>{}},{isDarkMode:y}=(0,i.D)();(0,a.useEffect)(()=>{let e=()=>{n(window.scrollY<20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);let v=e=>{let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"}),r(!1)};return(0,o.jsxs)("nav",{className:"".concat(y?"bg-gray-900/95":"bg-cream/95"," backdrop-blur-lg sticky top-0 z-50 border-b ").concat(y?"border-gray-700":"border-rose-accent/20"," transition-all duration-300 font-general ").concat(t?"h-24":"h-16"),style:{minHeight:t?"6rem":"4rem",paddingBottom:"0.2rem"},children:[(0,o.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"flex justify-between items-center transition-all duration-300 ".concat(t?"h-24":"h-16"),children:[(0,o.jsx)(l.P.div,{className:"flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:(0,o.jsxs)("a",{href:"/",className:"flex items-center group",children:[(0,o.jsx)("div",{className:"transition-all duration-300 rounded-lg flex items-center justify-center ".concat(t?"w-20 h-20":"w-14 h-14"),children:(0,o.jsx)("img",{src:c.A.src,alt:"BeyondWords Logo",className:"".concat(t?"h-24 w-24":"h-16 w-16"," transition-all duration-300"),style:{objectFit:"contain"}})}),(0,o.jsx)("span",{className:"ml-3 font-heading font-semibold ".concat(y?"text-light-purple":"text-rose-primary"," transition-all duration-300 ").concat(t?"text-3xl":"text-xl"),children:"BeyondWords"})]})}),(0,o.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[null!=f&&(0,o.jsx)(l.P.a,{href:"/dashboard",className:"".concat(y?"text-light-purple":"text-rose-primary"," hover:text-rose-accent transition-colors cursor-pointer font-body"),whileHover:{scale:1.05},children:"Dashboard"}),(0,o.jsx)(l.P.a,{href:"/contact",className:"".concat(y?"text-light-purple":"text-rose-primary"," hover:text-rose-accent transition-colors cursor-pointer font-body"),whileHover:{scale:1.05},children:"Contact"}),null==f&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.P.a,{href:"/login",className:"".concat(y?"text-light-purple":"text-rose-primary"," hover:text-rose-accent transition-colors cursor-pointer font-body"),whileHover:{scale:1.05},children:"Login"}),(0,o.jsx)(l.P.a,{href:"/signup",className:"".concat(y?"text-light-purple":"text-rose-primary"," hover:text-rose-accent transition-colors cursor-pointer font-body"),whileHover:{scale:1.05},children:"Sign Up"})]}),null!=f&&(0,o.jsx)("div",{className:"relative",children:(0,o.jsxs)(l.P.div,{className:"relative",onMouseEnter:()=>{m&&(clearTimeout(m),x(null)),g(!0)},onMouseLeave:()=>{x(setTimeout(()=>{g(!1)},150))},children:[(0,o.jsx)(l.P.button,{className:"".concat(y?"text-light-purple":"text-rose-primary"," hover:text-rose-accent transition-colors cursor-pointer bg-transparent border-none outline-none p-2 rounded-full hover:bg-rose-accent/10"),whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,o.jsx)(p,{className:"h-6 w-6"})}),s&&(0,o.jsxs)(l.P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 ".concat(y?"bg-gray-800 border-gray-700":"bg-white border-rose-accent/20"," rounded-lg shadow-lg border py-2 z-50"),onMouseEnter:()=>{m&&(clearTimeout(m),x(null)),g(!0)},onMouseLeave:()=>{x(setTimeout(()=>{g(!1)},150))},children:[(0,o.jsxs)("a",{href:"/dashboard/settings",className:"flex items-center px-4 py-2 ".concat(y?"text-gray-300 hover:bg-gray-700":"text-rose-primary hover:bg-rose-accent/10"," transition-colors cursor-pointer font-body"),children:[(0,o.jsx)(h,{className:"mr-3"}),"Settings"]}),(0,o.jsxs)("button",{onClick:b,className:"w-full flex items-center px-4 py-2 ".concat(y?"text-gray-300 hover:bg-gray-700":"text-rose-primary hover:bg-rose-accent/10"," transition-colors cursor-pointer bg-transparent border-none outline-none text-left font-body"),children:[(0,o.jsx)("svg",{className:"mr-3 h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Log Out"]})]})]})}),(0,o.jsx)(l.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95}})]}),(0,o.jsx)("div",{className:"md:hidden",children:(0,o.jsx)("button",{onClick:()=>r(!e),className:"text-text-dark ".concat(y?"hover:text-light-purple":"hover:text-rose-primary"," p-2 rounded-full focus:outline-none"),children:e?(0,o.jsx)(u,{className:"h-6 w-6"}):(0,o.jsx)(d,{className:"h-6 w-6"})})})]})}),e&&(0,o.jsx)(l.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-cream border-t border-rose-accent/20",children:(0,o.jsxs)("div",{className:"px-4 py-4 space-y-4",children:[null!=f&&(0,o.jsx)("a",{href:"/dashboard",className:"block ".concat(y?"text-light-purple":"text-rose-primary"," hover:text-rose-accent transition-colors cursor-pointer font-body"),children:"Dashboard"}),(0,o.jsx)("a",{href:"#testimonials",onClick:e=>{e.preventDefault(),v("testimonials")},className:"block ".concat(y?"text-light-purple":"text-rose-primary"," hover:text-rose-accent transition-colors cursor-pointer font-body"),children:"Testimonials"}),(0,o.jsx)("a",{href:"/contact",className:"block ".concat(y?"text-light-purple":"text-rose-primary"," hover:text-rose-accent transition-colors cursor-pointer font-body"),children:"Contact"}),null==f&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("a",{href:"/login",className:"block ".concat(y?"text-light-purple":"text-rose-primary"," hover:text-rose-accent transition-colors cursor-pointer font-body"),children:"Login"}),(0,o.jsx)("a",{href:"/signup",className:"block ".concat(y?"text-light-purple":"text-rose-primary"," hover:text-rose-accent transition-colors cursor-pointer font-body"),children:"Sign Up"})]}),null!=f&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("a",{href:"/dashboard/settings",className:"block ".concat(y?"text-light-purple":"text-rose-primary"," hover:text-rose-accent transition-colors cursor-pointer font-body"),children:"Settings"}),(0,o.jsx)("button",{onClick:b,className:"block ".concat(y?"text-light-purple":"text-rose-primary"," hover:text-rose-accent transition-colors cursor-pointer bg-transparent border-none outline-none px-2 w-full text-left font-body"),children:"Log Out"})]}),(0,o.jsx)("button",{onClick:()=>v("waitlist"),className:"w-full ".concat(y?"bg-light-purple":"bg-rose-primary"," text-white hover:bg-rose-primary/90 px-6 py-2 rounded-lg font-semibold transition font-body"),children:"Join Waitlist"})]})})]})}var m=t(5504),x=t(9010),f=t(7621),b=t(2619),y=t(550),v=t(5704);let w=(0,a.createContext)(void 0);function A(){return(0,a.useContext)(w)}function j(e){let{children:r}=e,[t,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),u=(0,s.useRouter)(),p=(0,s.usePathname)(),{syncWithUserPreferences:h}=(0,i.D)();(0,a.useEffect)(()=>{v.env.NEXT_PUBLIC_BYPASS_AUTH;let e=(0,b.Bh)(async e=>{try{if(e){let{success:t,data:o}=await (0,f.VM)(e.uid);if(t&&o)l({id:e.uid,email:e.email||"",name:o.name||e.displayName||"",photoUrl:e.photoURL||o.photoUrl,onboarding_complete:o.onboarding_complete,...o}),h(o);else{var r;let t={id:e.uid,email:e.email||"",name:e.displayName||(null==(r=e.email)?void 0:r.split("@")[0])||"User",onboarding_complete:!1},{success:o,data:a}=await (0,f.Vz)(t);o&&a?l({id:a.id,email:a.email,name:a.name,photoUrl:e.photoURL,onboarding_complete:a.onboarding_complete||!1,...a}):(console.error("[AUTH] Failed to create user profile"),l(null))}try{let e=await (0,y.p9)();e&&localStorage.setItem("jwt",e)}catch(e){console.warn("[AUTH] Failed to get Firebase token",e)}}else console.log("[AUTH] User signed out"),l(null),localStorage.removeItem("jwt");d(!1)}catch(e){console.error("[AUTH] Error in auth state change handler:",e),d(!1)}});return(0,b.rx)()||(l(null),d(!1)),()=>{e()}},[h]);let A=async()=>{v.env.NEXT_PUBLIC_BYPASS_AUTH;try{await (0,b.BP)(),l(null),u.push("/")}catch(e){console.error("Error signing out:",e)}},j="759507959904-69hs12v706k09dmghdveqvahdbbenkl8.apps.googleusercontent.com";if(!j)throw Error("NEXT_PUBLIC_GOOGLE_CLIENT_ID is missing");let k=(0,a.useMemo)(()=>({exists:!!t,onboardingComplete:null==t?void 0:t.onboarding_complete}),[null==t?void 0:t.onboarding_complete,!!t]);return((0,a.useEffect)(()=>{let e,r=!1,t=setTimeout(()=>{!r&&(console.log("[ROUTING] State:",{isLoading:c,userExists:k.exists,onboardingComplete:k.onboardingComplete,pathname:p}),k.exists?k.exists&&!c&&(!1===k.onboardingComplete&&"/onboarding"!==p?(console.log("[ROUTING] User needs onboarding, redirecting from",p),u.replace("/onboarding")):k.onboardingComplete&&("/onboarding"===p||"/login"===p||"/signup"===p)&&(console.log("[ROUTING] User completed onboarding, redirecting to dashboard"),u.replace("/dashboard"))):"/login"!==p&&"/signup"!==p&&"/"!==p&&(console.log("[ROUTING] No user, redirecting to login"),u.replace("/login")))},200);return()=>{r=!0,clearTimeout(t),e&&clearTimeout(e)}},[c,k.exists,k.onboardingComplete,p,u]),c)?(console.log("[LOADING] Checking authentication, user:",!!t),(0,o.jsx)(x.A,{})):(0,o.jsx)(w.Provider,{value:{user:t,setUser:l,logout:A},children:(0,o.jsx)(n.G_,{clientId:j,children:(0,o.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[(0,o.jsx)(g,{}),(0,o.jsx)("main",{className:"flex-1",children:r}),(0,o.jsx)(m.default,{})]})})})}},7621:(e,r,t)=>{t.d(r,{VM:()=>u,Vz:()=>p,Z_:()=>i,cL:()=>d,d8:()=>c,p5:()=>l});var o=t(5125),a=t(550),n=t(5704);let s=async()=>{n.env.NEXT_PUBLIC_BYPASS_AUTH;let e=localStorage.getItem("jwt");if(e)return{Authorization:"Bearer ".concat(e)};try{let e=await (0,a.p9)();if(e)return{Authorization:"Bearer ".concat(e)}}catch(e){console.error("Failed to get Firebase token:",e)}return{}},l=async e=>{try{console.log("[API] Getting language dashboards for user:",e);let r=await s(),t=await o.A.get("/api/user/language-dashboards",{headers:r});return console.log("[API] Language dashboards response:",t.data),{success:!0,data:t.data.dashboards,error:null}}catch(e){var r,t;return console.error("[API] Error getting language dashboards:",e),{success:!1,data:null,error:(null==(t=e.response)||null==(r=t.data)?void 0:r.error)||e.message}}},i=async e=>{try{console.log("[API] Creating language dashboard:",e);let r=await s(),t=await o.A.post("/api/user/language-dashboards",{language:e.language,proficiency:e.proficiency_level,talkTopics:e.talk_topics,learningGoals:e.learning_goals,practicePreference:e.practice_preference,feedbackLanguage:e.feedback_language,isPrimary:e.is_primary},{headers:r});return console.log("[API] Language dashboard created:",t.data),{success:!0,data:t.data.dashboard,error:null}}catch(e){var r,t;return console.error("[API] Error creating language dashboard:",e),{success:!1,data:null,error:(null==(t=e.response)||null==(r=t.data)?void 0:r.error)||e.message}}},c=async e=>{try{console.log("[API] Getting personas for user:",e);let r=await s(),t=await o.A.get("/api/personas",{headers:r});return console.log("[API] Personas response:",t.data),{success:!0,data:t.data.personas||t.data,error:null}}catch(e){var r,t;return console.error("[API] Error getting personas:",e),{success:!1,data:null,error:(null==(t=e.response)||null==(r=t.data)?void 0:r.error)||e.message}}},d=async e=>{try{console.log("[API] Getting conversations for user:",e);let r=await s(),t=await o.A.get("/api/conversations",{headers:r});return console.log("[API] Conversations response:",t.data),{success:!0,data:t.data.conversations||t.data,error:null}}catch(e){var r,t;return console.error("[API] Error getting conversations:",e),{success:!1,data:null,error:(null==(t=e.response)||null==(r=t.data)?void 0:r.error)||e.message}}},u=async e=>{try{console.log("[API] Getting user profile for:",e);let r=await s(),t=await o.A.get("/api/user/profile",{headers:r});return console.log("[API] User profile response:",t.data),{success:!0,data:t.data.user||t.data,error:null}}catch(e){var r,t;return console.error("[API] Error getting user profile:",e),{success:!1,data:null,error:(null==(t=e.response)||null==(r=t.data)?void 0:r.error)||e.message}}},p=async e=>{var r,t,a;try{console.log("[API] Creating user profile:",e);let t=await s(),a=await o.A.post("/api/user/profile",{id:e.id,email:e.email,name:e.name,onboarding_complete:null!=(r=e.onboarding_complete)&&r},{headers:t});return console.log("[API] User profile created:",a.data),{success:!0,data:a.data.user||a.data,error:null}}catch(e){return console.error("[API] Error creating user profile:",e),{success:!1,data:null,error:(null==(a=e.response)||null==(t=a.data)?void 0:t.error)||e.message}}}},9010:(e,r,t)=>{t.d(r,{A:()=>n});var o=t(5155);t(2115);var a=t(3915);function n(e){let{message:r="Loading..."}=e;return(0,o.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f5f1ec 0%, #f8f9fa 50%, #f5f1ec 100%)",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",fontFamily:"Montserrat, Arial, sans-serif"},children:[(0,o.jsx)("div",{style:{marginBottom:"1rem"},children:(0,o.jsx)("img",{src:a.A.src,alt:"BeyondWords Logo",style:{width:"80px",height:"80px",objectFit:"contain"}})}),(0,o.jsx)("div",{style:{fontSize:"1.5rem",color:"#7e5a75",fontWeight:600,marginBottom:"0.5rem"},children:"BeyondWords"}),(0,o.jsx)("div",{style:{fontSize:"0.9rem",color:"#7e5a75",opacity:.7},children:r})]})}}}]);